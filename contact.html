<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<!-- Précharge l’image de fond pour éviter le flash -->
<link rel="preload" as="image" href="background.jpg"/>

<title>Contact</title>

<style>
  :root{
    --bg:#fff;--fg:#1f2937;--muted:#6b7280;--brand:#0b5fa5;--card:#f8fafc;--ring:#dbeafe;--overlay:rgba(255,255,255,0.85);
    --edge:24px;
    --card-pad:26px;
    --sticky-h:80px;
    --anchor-offset: calc(var(--sticky-h) + 24px);
  }
  [data-theme="dark"]{
    --bg:#0d1117;--fg:#e6edf3;--muted:#8b949e;--brand:#58a6ff;--card:#161b22;--ring:#30363d;--overlay:rgba(0,0,0,0.7)
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;display:flex;flex-direction:column;min-height:100vh;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;
    background:var(--bg);color:var(--fg);line-height:1.6;
    transition:background .3s,color .3s
  }
  /* Calque d’arrière-plan identique à about.html */
  body::before{
    content:"";position:fixed;inset:0;z-index:-2;
    background:url('background.jpg') no-repeat center/cover
  }

  .top-band{position:sticky;top:0;width:100%;background:rgba(11,95,165,.35);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:1000}
  .container{max-width:1200px;margin:auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;padding:4px 12px;min-height:40px}
  header img.signature{height:40px;width:auto;object-fit:contain;cursor:pointer;display:block}
  nav{display:flex;gap:40px;align-items:center}
  nav a{font-weight:500;text-decoration:none;color:var(--fg);opacity:.9;cursor:pointer}
  nav a:hover{opacity:1;text-decoration:underline}
  .menu{position:relative}
  .submenu{position:absolute;top:100%;left:0;background:var(--card);border:1px solid var(--ring);border-radius:8px;min-width:160px;box-shadow:0 6px 18px rgba(0,0,0,.08);opacity:0;transform:translateY(-10px);transition:opacity .25s ease,transform .25s ease;display:none}
  .submenu.show{display:block;opacity:1;transform:translateY(0)}
  .submenu a{display:block;padding:6px 10px;color:var(--fg);text-decoration:none;cursor:default}
  .submenu a:hover{background:var(--ring)}
  .toggle{border:1px solid var(--ring);background:transparent;color:var(--fg);padding:4px 8px;border-radius:8px;cursor:pointer;transition:background .3s,color .3s}

  .page{max-width:1200px;margin:0 auto;padding:48px var(--edge) 24px;z-index:1;position:relative}
  .footer-band{background-color:rgba(11,95,165,.6);color:#fff;text-align:left;padding:20px;margin-top:auto;position:relative;z-index:1}

  /* ===== Mise en page des sections Contact ===== */
  .sections{max-width:1200px;margin:0 auto;padding:32px 0 96px}
  .alt-section{
    display:grid;
    grid-template-columns:1.05fr 1fr; /* colonne gauche (infos) / droite (form) */
    gap:36px;align-items:stretch;margin:54px 0;
    padding:0 var(--edge);
  }

  .alt-card{
    background: rgba(255,255,255,0.75);
    backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
    border-radius:24px;padding:28px var(--card-pad);
    box-shadow:0 10px 30px rgba(0,0,0,.12),0 1px 0 rgba(255,255,255,.14) inset;
    color:#111827;height:100%;display:flex;flex-direction:column
  }
  [data-theme="dark"] .alt-card{
    background: rgba(0,0,0,0.55);
    box-shadow:0 10px 30px rgba(0,0,0,.35),0 1px 0 rgba(255,255,255,.06) inset;
    color:#eaeef5;
  }

  .alt-eyebrow{
    display:inline-block;font-size:12px;letter-spacing:.12em;text-transform:uppercase;
    margin:0 0 10px;padding:6px 14px;border-radius:999px;
    color:#0f172a;
    background: linear-gradient(90deg, rgba(11,95,165,.18), rgba(11,95,165,.06));
  }
  [data-theme="dark"] .alt-eyebrow{
    color:#e6eef8;
    background: linear-gradient(180deg, rgba(2,6,23,.88), rgba(2,6,23,.72));
    border:1px solid rgba(88,166,255,.28);
  }

  .alt-title{font-size:clamp(22px,2.8vw,36px);line-height:1.18;margin:0 0 12px;color:var(--fg)}
  [data-theme="dark"] .alt-title{color:#f3f6fb}
  .alt-text{margin:0;color:#111827;font-size:16px}
  [data-theme="dark"] .alt-text{color:#eaeef5}

  /* Pile (fond blanc sous le ruban) – si besoin plus tard
  .eyebrow-stack{display:inline-block;position:relative;margin:6px 0 18px}
  .eyebrow-stack::before{content:"";position:absolute;inset:-6px -10px;background:rgba(255,255,255,0.95);border-radius:999px;box-shadow:0 6px 18px rgba(0,0,0,.08);z-index:0}
  .eyebrow-stack .alt-eyebrow{position:relative;z-index:1;margin:0}
  */

  /* Bloc d’infos (gauche) */
  .info-stack{display:flex;flex-direction:column;gap:12px}
  .info-row{display:flex;align-items:center;gap:10px}
  .info-row a{color:var(--fg);text-decoration:none}
  .info-row a:hover{text-decoration:underline}
  .info-muted{color:var(--muted);font-size:14px}

  /* Formulaire (droite) */
  form.contact-form{display:grid;grid-template-columns:1fr;gap:12px}
  .field{display:flex;flex-direction:column;gap:6px}
  .label{font-weight:600;font-size:14px}
  .input,.textarea,.file{
    background:rgba(255,255,255,0.9);border:1px solid var(--ring);border-radius:12px;
    padding:10px 12px;font:inherit;color:inherit;outline:none;width:100%
  }
  .textarea{min-height:136px;resize:vertical}
  .file{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}
  .file::-webkit-file-upload-button{margin-right:8px}
  .submit{
    display:inline-flex;align-items:center;gap:10px;justify-content:center;
    padding:12px 18px;border-radius:999px;border:0;
    background: linear-gradient(180deg, var(--brand), #0a5695);
    color:#fff;font-weight:700;cursor:pointer;box-shadow:0 8px 18px rgba(11,95,165,.25)
  }
  .submit:disabled{opacity:.7;cursor:not-allowed}
  .hint{font-size:12px;color:var(--muted)}
  .status{margin-top:6px;font-size:14px}
  .status.ok{color:#0a7f3f}.status.err{color:#b00020}

  /* Mobile – identique à about.html (layout 1 colonne + corrections) */
  @media(max-width:900px){
    .alt-section{grid-template-columns:1fr}
    :root{ --anchor-offset: 72px; }
  }
  @media(max-width:640px){
    :root{ --edge:16px; --anchor-offset: 64px; }
    .container{padding:12px 16px}
    .top-band{position:static}
    header{flex-wrap:wrap;gap:8px}
    header img.signature{height:28px}
    nav{flex:1 1 100%;display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start;min-width:0}
    nav a{font-size:14px;line-height:1.2;white-space:nowrap}
    .toggle{padding:6px 10px;font-size:14px}
    .submenu{max-width:calc(100vw - 24px);overflow-wrap:anywhere;left:0;right:auto}
    html,body{overflow-x:hidden}
  }
</style>

<script>
/* === Utilitaires thème & menus (mêmes signatures que about.html) === */
function i18nGet(key, fallback){
  try{ let v = window.__i18nDict; for (const p of key.split('.')) v = v && v[p]; return v ?? fallback; }
  catch(e){ return fallback; }
}
function updateThemeLabel(){
  const btn = document.getElementById('themeToggle');
  if (!btn) return;
  const isDark = (document.documentElement.dataset.theme === 'dark');
  const day  = i18nGet('ui.theme_day','☀︎ Day');
  const night= i18nGet('ui.theme_night','☾ Night');
  btn.textContent = isDark ? day : night;
}
function toggleTheme(){
  const html=document.documentElement;
  const next=html.dataset.theme==='dark'?'light':'dark';
  html.dataset.theme=next;
  try{localStorage.setItem('theme',next);}catch(e){}
  document.documentElement.style.colorScheme=next;
  updateThemeLabel();
}
function toggleMenu(e,id){
  e.preventDefault();
  const m=document.getElementById(id);
  if(!m) return;
  const isOpen=m.classList.contains('show');
  document.querySelectorAll('.submenu').forEach(sm=>{sm.classList.remove('show');sm.style.display='none';});
  if(!isOpen){m.style.display='block';requestAnimationFrame(()=>m.classList.add('show'));}
}
function closeMenusOnInteraction(ev){
  const inside=ev.target&&ev.target.closest&&ev.target.closest('.menu');
  if(!inside){document.querySelectorAll('.submenu').forEach(m=>{m.classList.remove('show');setTimeout(()=>m.style.display='none',250);});}
}
document.addEventListener('click',closeMenusOnInteraction);
document.addEventListener('scroll',()=>closeMenusOnInteraction({target:null}),{passive:true});
document.addEventListener('keydown',(e)=>{if(e.key==='Escape')closeMenusOnInteraction({target:null});});
</script>

<!-- === i18n (même architecture que about.html) === -->
<script>
(() => {
  const SUPPORTED=["fr","de","ar"]; const DEFAULT="en";

  /* Sauvegarde du texte d’origine pour restaurer l’anglais intégralement */
  function snapshotOriginals(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if(!el.dataset.i18nOriginal) el.dataset.i18nOriginal=el.textContent;
    });
  } snapshotOriginals();

  const get=(o,p)=>p.split('.').reduce((a,k)=>a&&a[k]!=null?a[k]:undefined,o);

  function currentLang(){
    const params=new URLSearchParams(location.search);
    const l=(params.get("lang")||"").toLowerCase();
    if(!params.has("lang")) return DEFAULT;
    return (l==='en'||SUPPORTED.includes(l))?l:DEFAULT;
  }

  async function loadDict(lang){
    const res=await fetch(`lang/${lang}.json`,{cache:"no-cache"});
    if(!res.ok) throw new Error("Missing lang file: "+lang);
    return res.json();
  }

  function applyDict(dict,lang){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const key=el.getAttribute("data-i18n"); const val=get(dict,key);
      if(val!=null) el.textContent=val;
    });
    const metaTitle=get(dict,"meta.contact_title") || get(dict,"meta.title");
    if(metaTitle) document.title=metaTitle;
    document.documentElement.setAttribute("lang",lang);
    window.__i18nDict=dict; window.__currentLang=lang;
    if(window.updateThemeLabel) updateThemeLabel();
    updateLinks(lang);
  }

  function restoreEnglish(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if(el.dataset.i18nOriginal!=null) el.textContent=el.dataset.i18nOriginal;
    });
    window.__i18nDict={}; window.__currentLang="en";
    document.documentElement.setAttribute("lang","en");
    if(window.updateThemeLabel) updateThemeLabel();
    updateLinks("en");
  }

  /* Pour Contact, on n’a pas de PDF à permuter, mais on garde la même API que about.html */
  function updateLinks(lang){
    // Si un jour tu ajoutes des liens dépendants de la langue dans Contact, fais-le ici.
  }

  function setLang(lang){
    if(lang!=='en' && !SUPPORTED.includes(lang)) lang='en';
    const u=new URL(location.href); u.searchParams.set("lang",lang);
    history.replaceState({}, "", u.pathname+u.search+location.hash);
    if(lang==='en'){ restoreEnglish(); return; }
    loadDict(lang).then(d=>applyDict(d,lang)).catch(()=>restoreEnglish());
  }
  window.setLangFromMenu=setLang;

  /* Injection du sélecteur langues à côté du bouton thème (comme about.html) */
  document.addEventListener('DOMContentLoaded', function(){
    const themeBtn=document.getElementById('themeToggle');
    if(themeBtn && themeBtn.parentNode){
      const wrap=document.createElement('div'); wrap.className='menu lang-menu';
      const btn=document.createElement('button');
      btn.id='langToggle';btn.className='toggle';btn.type='button';btn.setAttribute('aria-haspopup','true');btn.textContent='EN ▾';
      const menu=document.createElement('div'); menu.id='lang-menu';menu.className='submenu';
      menu.innerHTML = `
        <a href="#" data-lang="en">English</a>
        <a href="#" data-lang="de">Deutsch</a>
        <a href="#" data-lang="ar">العربية</a>
        <a href="#" data-lang="fr">Français</a>
      `;
      wrap.appendChild(btn);wrap.appendChild(menu);
      themeBtn.parentNode.insertBefore(wrap,themeBtn);
      btn.addEventListener('click',e=>toggleMenu(e,'lang-menu'));
      menu.addEventListener('click', function(e){
        const a = e.target.closest('a[data-lang]'); if (!a) return;
        e.preventDefault();
        if (window.setLangFromMenu) window.setLangFromMenu(a.dataset.lang);
        closeMenusOnInteraction({target:null});
        try{ const map={en:'EN',fr:'FR',de:'DE',ar:'AR'}; btn.textContent=(map[a.dataset.lang]||'EN')+' ▾'; }catch(_e){}
      });
      try{
        const params=new URLSearchParams(location.search);
        const lang=params.has('lang')?(params.get('lang')||'en').toLowerCase():'en';
        const map={en:'EN',fr:'FR',de:'DE',ar:'AR'}; btn.textContent=(map[lang]||'EN')+' ▾';
      }catch(_e){}
    }

    // Thème initial (comme about.html)
    let initial='light';
    try{
      const stored=localStorage.getItem('theme');
      if(stored){initial=stored;}
      else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){initial='dark';}
    }catch(e){}
    document.documentElement.dataset.theme=initial;
    document.documentElement.style.colorScheme=initial;
    if(window.updateThemeLabel) updateThemeLabel();
  });

  // Initialise la langue au chargement, comme about.html
  const current=currentLang();
  if(current==='en') restoreEnglish(); else setLang(current);

  // Délégation globale (clic direct sur les entrées du menu langues)
  document.addEventListener("click",e=>{
    const b=e.target.closest("[data-lang]"); if(!b) return;
    e.preventDefault(); setLang(b.getAttribute("data-lang"));
  },{passive:true});
})();
</script>

<!-- Gestion du formulaire (envoi + messages de statut) -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Pré-remplir e-mail si déjà saisi localement
  const emailInput = document.getElementById('fromEmail');
  try{ const saved = localStorage.getItem('visitor_email'); if(saved && emailInput) emailInput.value = saved; }catch(e){}

  const form = document.getElementById('contactForm');
  const statusEl = document.getElementById('formStatus');
  if(!form) return;

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    if(statusEl){ statusEl.className='status'; statusEl.textContent=i18nGet('contact.form.sending','Sending…'); }

    const formData = new FormData(form);
    try{ localStorage.setItem('visitor_email', formData.get('email') || ''); }catch(e){}

    try{
      /* ⚠️ Remplace par ton endpoint Formspree / autre */
      const resp = await fetch('https://formspree.io/f/XXXXXXXX', {
        method:'POST', body: formData, headers: { 'Accept': 'application/json' }
      });
      if(resp.ok){
        form.reset();
        if(statusEl){ statusEl.className='status ok'; statusEl.textContent=i18nGet('contact.form.success','Message sent successfully. Thank you!'); }
      }else{
        if(statusEl){ statusEl.className='status err'; statusEl.textContent=i18nGet('contact.form.error','Sending failed. Please try again or email me directly.'); }
      }
    }catch(err){
      if(statusEl){ statusEl.className='status err'; statusEl.textContent=i18nGet('contact.form.error_network','Network error. Please try again.'); }
    }
  });
});
</script>
</head>
<body data-theme="light">
  <!-- === Bande supérieure === -->
  <div class="top-band">
    <div class="container">
      <header>
        <a href="index.html#home" style="display:inline-block">
          <img src="signature.png" alt="Signature" class="signature" fetchpriority="high"/>
        </a>

        <nav>
          <div class="menu">
            <a href="about.html" data-i18n="nav.about">About</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'about-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="about-menu" class="submenu">
              <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
              <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
              <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
              <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
            </div>
          </div>

          <a href="skills.html" data-i18n="nav.skills">Skills</a>

          <div class="menu">
            <a href="projects.html" data-i18n="nav.projects">Projects</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'projects-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="projects-menu" class="submenu">
              <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
              <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
            </div>
          </div>

          <a href="contact.html" data-i18n="nav.contact">Contact</a>
        </nav>

        <button id="themeToggle" class="toggle" onclick="toggleTheme()">☾ Night</button>
      </header>
    </div>
  </div>

  <!-- === Contenu principal === -->
  <main class="page" id="main">
    <div class="sections">

      <!-- === SECTION CONTACT === -->
      <section id="connect" class="alt-section reveal anchor">
        <!-- Colonne gauche -->
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="contact.eyebrow">Let's connect</p>
          <h3 class="alt-title" data-i18n="contact.title">Contact Information</h3>
          <p class="alt-text" data-i18n="contact.text">
            Feel free to reach out to me directly through this form or via my social networks.
          </p>

          <div class="info-stack">
            <div class="info-row">
              <img src="linkedin-logo.png" alt="LinkedIn" style="width:28px;height:28px;object-fit:contain">
              <a href="https://de.linkedin.com/in/youssef-chabbou-aa3782374" target="_blank" rel="noopener" data-i18n="contact.linkedin">LinkedIn Profile</a>
            </div>
            <div class="info-row">
              <img src="mail-icon.png" alt="Email" style="width:26px;height:26px;object-fit:contain">
              <a href="mailto:Youssefchabbou@outlook.com">Youssefchabbou@outlook.com</a>
            </div>
            <div class="info-row">
              <img src="location-icon.png" alt="Location" style="width:26px;height:26px;object-fit:contain">
              <span>38100 Braunschweig, Germany</span>
            </div>
          </div>
        </div>

        <!-- Colonne droite : Formulaire -->
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="contact.form.title">Send a message</p>

          <form id="contactForm" class="contact-form">
            <div class="field">
              <label for="fromEmail" class="label" data-i18n="contact.form.email">Your email</label>
              <input id="fromEmail" name="email" type="email" required class="input" placeholder="you@example.com"/>
            </div>

            <div class="field">
              <label for="subject" class="label" data-i18n="contact.form.subject">Subject</label>
              <input id="subject" name="subject" type="text" required class="input" placeholder="Subject"/>
            </div>

            <div class="field">
              <label for="message" class="label" data-i18n="contact.form.message">Message</label>
              <textarea id="message" name="message" required class="textarea" placeholder="Write your message here..."></textarea>
            </div>

            <div class="field">
              <label for="attachment" class="label" data-i18n="contact.form.attachment">Attachment (optional)</label>
              <input id="attachment" name="attachment" type="file" class="file"/>
              <p class="hint" data-i18n="contact.form.attachment_hint">Accepted formats: PDF, JPG, PNG, DOCX</p>
            </div>

            <button type="submit" class="submit" data-i18n="contact.form.send">Send</button>
            <div id="formStatus" class="status"></div>
          </form>
        </div>
      </section>
    </div>
  </main>

  <!-- === Pied de page === -->
  <div class="footer-band">© 2025 Youssef Chabbou
    <span data-i18n="footer.created_by" style="font-size:12px; color:rgba(255,255,255,0.75); float:right; text-align:right; line-height:1.4;">
      This website was entirely created by its owner,<br>
      Youssef Chabbou, using AI-Augmented Development.
    </span>
  </div>

  <!-- Animation de révélation (scroll) -->
  <script>
  (function(){
    const prefersReduced=window.matchMedia&&window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(prefersReduced){ document.querySelectorAll('.reveal').forEach(el=>el.classList.add('in')); return; }
    const io=new IntersectionObserver((entries)=>{
      entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');io.unobserve(e.target);}});
    },{threshold:0.15});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
  })();
  </script>
</body>
</html>
