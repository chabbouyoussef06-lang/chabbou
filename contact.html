<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Contact</title>

<link rel="preload" as="image" href="background.jpg"/>

<style>
  :root{
    --bg:#fff;--fg:#1f2937;--muted:#6b7280;--brand:#0b5fa5;--card:#f8fafc;--ring:#dbeafe;--overlay:rgba(255,255,255,0.85);
    --edge:24px; --card-pad:26px; --sticky-h:80px; --anchor-offset: calc(var(--sticky-h) + 24px);
  }
  [data-theme="dark"]{
    --bg:#0d1117;--fg:#e6edf3;--muted:#8b949e;--brand:#58a6ff;--card:#161b22;--ring:#30363d;--overlay:rgba(0,0,0,0.7)
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  html,body{
    max-width:100%;
    overflow-x:hidden;
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    background:var(--bg); color:var(--fg);
  }
  img,svg{max-width:100%; height:auto}

  body{
    margin:0;display:flex;flex-direction:column;min-height:100vh;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;
    line-height:1.6;transition:background .3s,color .3s
  }
  body::before{content:"";position:fixed;inset:0;z-index:-2;background:url('background.jpg') no-repeat center/cover}

  .top-band{position:sticky;top:0;width:100%;background:rgba(11,95,165,.35);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:1000}
  .container{max-width:1200px;margin:0 auto;padding:24px var(--edge)}
  header{display:flex;align-items:center;justify-content:space-between;min-height:40px}
  header img.signature{height:40px;width:auto;object-fit:contain;cursor:pointer;display:block}
  nav{display:flex;gap:40px;align-items:center;min-width:0}
  nav a{font-weight:500;text-decoration:none;color:var(--fg);opacity:.9;cursor:pointer}
  nav a:hover{text-decoration:underline;opacity:1}
  .menu{position:relative;max-width:100%}
  .submenu{position:absolute;top:100%;left:0;background:var(--card);border:1px solid var(--ring);border-radius:8px;min-width:160px;box-shadow:0 6px 18px rgba(0,0,0,.08);opacity:0;transform:translateY(-10px);transition:opacity .25s,transform .25s;display:none}
  .submenu.show{display:block;opacity:1;transform:translateY(0)}
  .submenu a{display:block;padding:6px 10px;color:var(--fg);text-decoration:none;cursor:default}
  .submenu a:hover{background:var(--ring)}
  .toggle{border:1px solid var(--ring);background:transparent;color:var(--fg);padding:4px 8px;border-radius:8px;cursor:pointer;transition:background .3s,color .3s}

  .page{max-width:1200px;margin:0 auto;padding:32px var(--edge) 24px;z-index:1;position:relative;width:100%}
  .sections{max-width:1200px;margin:0 auto;padding:16px 0 72px}
  /* GRILLE rétractable */
  .alt-section{
    display:grid;
    grid-template-columns:minmax(0,1.05fr) minmax(0,1fr);
    gap:28px; align-items:start; margin:32px 0; width:100%;
  }

  .alt-card{
    background:rgba(255,255,255,0.75);
    backdrop-filter:blur(14px); -webkit-backdrop-filter:blur(14px);
    border-radius:24px; padding:22px var(--card-pad);
    box-shadow:0 10px 30px rgba(0,0,0,.12),0 1px 0 rgba(255,255,255,.14) inset;
    color:#111827; display:flex; flex-direction:column;
    max-width:100%; width:100%; min-width:0;
    word-break:break-word; overflow-wrap:anywhere;
  }
  [data-theme="dark"] .alt-card{
    background:rgba(0,0,0,0.55); box-shadow:0 10px 30px rgba(0,0,0,.35),0 1px 0 rgba(255,255,255,.06) inset; color:#eaeef5;
  }

  .alt-eyebrow{
    display:inline-block;font-size:12px;letter-spacing:.12em;text-transform:uppercase;
    margin:0 0 6px; padding:6px 14px;border-radius:999px;
    color:#0f172a;background:linear-gradient(90deg,rgba(11,95,165,.18),rgba(11,95,165,.06))
  }
  [data-theme="dark"] .alt-eyebrow{color:#e6eef8;background:linear-gradient(180deg,rgba(2,6,23,.88),rgba(2,6,23,.72));border:1px solid rgba(88,166,255,.28)}

  .alt-title{font-size:clamp(22px,2.6vw,34px);line-height:1.2;margin:0 0 8px;color:var(--fg)}
  .alt-text{margin:0 0 8px;font-size:16px;line-height:1.5}

  /* Let’s connect – plus compact */
  .info-stack{display:flex;flex-direction:column;gap:10px;min-width:0}
  .info-row{display:flex;align-items:center;gap:10px;margin:0;min-width:0}
  .info-row a{color:var(--fg);text-decoration:none;min-width:0}
  .info-row a:hover{text-decoration:underline}
  .info-muted{color:var(--muted); font-size:14px}

  /* Formulaire – éléments rétractables */
  form.contact-form{display:grid;grid-template-columns:1fr;gap:10px;min-width:0}
  .field{display:flex;flex-direction:column;gap:6px;min-width:0}
  .label{font-weight:600;font-size:14px}
  .input,.textarea,.file{
    background:rgba(255,255,255,0.9);border:1px solid var(--ring);border-radius:12px;
    padding:10px 12px;font:inherit;color:inherit;outline:none;
    width:100%;max-width:100%;min-width:0;
  }
  .textarea{min-height:136px;resize:vertical}
  /* iOS file input : empêche la largeur imposée + ellipses */
  .file{display:block;white-space:nowrap; text-overflow:ellipsis; overflow:hidden}
  .file::-webkit-file-upload-button{margin-right:8px}

  .submit{
    display:inline-flex;align-items:center;gap:10px;justify-content:center;
    padding:12px 18px;border-radius:999px;border:0;background:linear-gradient(180deg,var(--brand),#0a5695);
    color:#fff;font-weight:700;cursor:pointer;box-shadow:0 8px 18px rgba(11,95,165,.25)
  }
  .submit:disabled{opacity:.7;cursor:not-allowed}
  .hint{font-size:12px;color:var(--muted)}
  .status{margin-top:6px;font-size:14px}
  .status.ok{color:#0a7f3f}.status.err{color:#b00020}

  .footer-band{background-color:rgba(11,95,165,.6);color:#fff;text-align:left;padding:20px;margin-top:auto;position:relative;z-index:1}

  /* Mobile */
  @media(max-width:900px){
    :root{ --anchor-offset: 72px; }
    .alt-section{grid-template-columns:1fr; gap:18px; margin:22px 0;}
    .container, .page{padding-left:16px; padding-right:16px;}
    /* iOS: on isole la carte pour éviter tout crop de blur/arrondis au bord droit */
    .alt-card{padding:18px; margin-inline:12px; overflow:hidden;}
  }
  @media(max-width:420px){
    /* garde-fou pour très petits écrans ou zoom texte */
    .alt-card{ contain:content; border-radius:20px; margin-inline:10px; }
  }
  /* Ciblage Safari iOS : ajoute un léger inset si besoin */
  @supports (-webkit-touch-callout: none) {
    @media (max-width: 480px) {
      .alt-card{ margin-inline:12px; }
    }
  }
</style>

<!-- ✅ ADD-ON non destructif : force l'affichage du background image -->
<style>
  /* On neutralise les fonds unis pour voir l'image derrière */
  html { background: transparent !important; }
  body { background: transparent !important; position: relative; }

  /* Calque d'arrière-plan au bon z-index, derrière tout le contenu */
  body::before{
    content:"";
    position: fixed;
    inset: 0;
    background: url('background.jpg') no-repeat center/cover;
    z-index: -1;           /* plus haut que -2, toujours derrière le contenu */
    pointer-events: none;
    transform: translateZ(0);
    will-change: transform;
  }
</style>

<!-- ===== AJOUTS: Hamburger + layout mobile + RTL ===== -->
<style>
  .hamburger-btn{display:none;appearance:none;border:0;background:transparent;width:40px;height:40px;align-items:center;justify-content:center;cursor:pointer}
  .hamburger-btn span{display:block;width:22px;height:2px;background:var(--fg);border-radius:2px;position:relative}
  .hamburger-btn span::before,.hamburger-btn span::after{content:"";position:absolute;left:0;width:22px;height:2px;background:var(--fg);border-radius:2px}
  .hamburger-btn span::before{top:-7px}
  .hamburger-btn span::after{top:7px}

  .mobile-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:999}
  .mobile-drawer{position:fixed;top:0;left:0;height:100%;width:86vw;max-width:360px;background:var(--bg);border-right:1px solid var(--ring);box-shadow:0 10px 30px rgba(0,0,0,.18);transform:translateX(-102%);transition:transform .25s ease;z-index:1000;display:flex;flex-direction:column}
  .mobile-drawer header{padding:14px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--ring)}
  .mobile-drawer nav{display:flex;flex-direction:column;gap:4px;padding:12px 12px 18px;flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}
  .mobile-drawer nav a{padding:10px 12px;border-radius:10px;text-decoration:none;color:var(--fg)}
  .mobile-drawer nav a:hover{background:var(--card)}
  .mobile-heading{margin:14px 12px 6px;font-size:13px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);border-top:1px solid var(--ring);padding-top:10px}
  .mobile-group{padding:2px 0 8px}
  .mobile-sub{padding:0 12px 10px;margin:2px 0 6px;border-left:2px solid var(--ring)}
  .mobile-sub a{display:block;padding:8px 12px 8px 10px;border-radius:8px}
  .lang-grid{padding:12px;border-top:1px solid var(--ring);display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px;background:var(--bg)}
  .lang-btn{padding:10px;border:1px solid var(--ring);border-radius:10px;background:var(--card);text-align:center;cursor:pointer}
  .lang-btn:active{transform:scale(.98)}

  .mobile-open .mobile-backdrop{opacity:1;pointer-events:auto}
  .mobile-open .mobile-drawer{transform:translateX(0)}

  @media (max-width:640px){
    .hamburger-btn{display:flex}
    .top-band nav{display:none !important}
    .lang-menu{display:none !important}
    .top-band header{
      display:grid;
      grid-template-columns:40px 1fr auto;
      align-items:center;
      gap:8px;
    }
    .top-band header > a[href="index.html#home"]{justify-self:center}
    #themeToggle{justify-self:end}
  }

  .hamburger-btn:focus-visible,.mobile-drawer a:focus-visible,.lang-btn:focus-visible{outline:2px solid var(--brand);outline-offset:3px}
  @media (prefers-reduced-motion:reduce){
    .mobile-backdrop,.mobile-drawer{transition:none}
  }

  html.mobile-open, body.mobile-open{ overflow: hidden; }

  /* RTL dynamique */
  html[dir="rtl"] body{ direction: rtl; }
  html[dir="rtl"] nav{ justify-content:flex-end; }
  html[dir="rtl"] .submenu{ left:auto; right:0; }
  html[dir="rtl"] .mobile-drawer{ left:auto; right:0; transform:translateX(102%); border-right:none; border-left:1px solid var(--ring);}
  html.mobile-open[dir="rtl"] .mobile-drawer{ transform:translateX(0); }
  html[dir="rtl"] .mobile-sub{ border-left:none; border-right:2px solid var(--ring); }
  html[dir="rtl"] .alt-card, html[dir="rtl"] p, html[dir="rtl"] h1, html[dir="rtl"] h2, html[dir="rtl"] a{ text-align:right; }
  @media (max-width:640px){
    html[dir="rtl"] .top-band header{
      grid-template-columns:auto 1fr 40px;
    }
    html[dir="rtl"] #themeToggle{ justify-self:start; }
    html[dir="rtl"] .top-band header > a[href="index.html#home"]{ justify-self:center; }
  }
</style>

<script>
/* utilitaires communs (comme about.html) */
function i18nGet(key, fallback){ try{ let v=window.__i18nDict; for(const p of key.split('.')) v=v&&v[p]; return v ?? fallback; }catch(e){ return fallback; } }
function updateThemeLabel(){ const btn=document.getElementById('themeToggle'); if(!btn) return;
  const isDark=(document.documentElement.dataset.theme==='dark');
  btn.textContent = isDark ? i18nGet('ui.theme_day','☀︎ Day') : i18nGet('ui.theme_night','☾ Night'); }
function toggleTheme(){ const html=document.documentElement; const next=html.dataset.theme==='dark'?'light':'dark';
  html.dataset.theme=next; try{localStorage.setItem('theme',next);}catch(e){}; document.documentElement.style.colorScheme=next; updateThemeLabel(); }
function toggleMenu(e,id){ e.preventDefault(); const m=document.getElementById(id); if(!m) return;
  const isOpen=m.classList.contains('show'); document.querySelectorAll('.submenu').forEach(sm=>{sm.classList.remove('show');sm.style.display='none';});
  if(!isOpen){ m.style.display='block'; requestAnimationFrame(()=>m.classList.add('show')); } }
function closeMenusOnInteraction(ev){ const inside=ev.target&&ev.target.closest&&ev.target.closest('.menu');
  if(!inside){ document.querySelectorAll('.submenu').forEach(m=>{m.classList.remove('show'); setTimeout(()=>m.style.display='none',250);}); } }
document.addEventListener('click',closeMenusOnInteraction,{passive:true});
document.addEventListener('scroll',()=>closeMenusOnInteraction({target:null}),{passive:true});
document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeMenusOnInteraction({target:null}); });

/* i18n – mêmes JSON que about.html (+ meta.contact_title) */
(() => {
  const SUPPORTED=["fr","de","ar"]; const DEFAULT="en";

  function snapshotOriginals(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if(!el.dataset.i18nOriginal) el.dataset.i18nOriginal=el.textContent;
    });
  } document.addEventListener('DOMContentLoaded', snapshotOriginals);


  const get=(o,p)=>p.split('.').reduce((a,k)=>a&&a[k]!=null?a[k]:undefined,o);

  function currentLang(){
    const params=new URLSearchParams(location.search);
    const l=(params.get("lang")||"").toLowerCase();
    if(!params.has("lang")) return DEFAULT;
    return (l==='en'||SUPPORTED.includes(l))?l:DEFAULT;
  }

  async function loadDict(lang){
    const res=await fetch(`lang/${lang}.json`,{cache:"no-cache"});
    if(!res.ok) throw new Error("Missing lang file: "+lang);
    return res.json();
  }

  function applyDict(dict,lang){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      const key=el.getAttribute("data-i18n"); const val=get(dict,key);
      if(val!=null) el.textContent=val;
    });
    const metaTitle=get(dict,"meta.contact_title"); if(metaTitle) document.title=metaTitle;

    // Lang & direction
    document.documentElement.setAttribute("lang",lang);
    document.documentElement.setAttribute("dir", lang === 'ar' ? 'rtl' : 'ltr');

    window.__i18nDict=dict; window.__currentLang=lang;
    updateThemeLabel();
  }

  function restoreEnglish(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if(el.dataset.i18nOriginal!=null) el.textContent=el.dataset.i18nOriginal;
    });
    window.__i18nDict={}; window.__currentLang="en";
    document.documentElement.setAttribute("lang","en");
    document.documentElement.setAttribute("dir","ltr");
    updateThemeLabel();
  }

  /* Correctif : revenir proprement à l’anglais */
  function setLang(lang){
    if(lang!=='en' && !SUPPORTED.includes(lang)) lang='en';
    const u=new URL(location.href); u.searchParams.set("lang",lang);
    history.replaceState({}, "", u.pathname+u.search+location.hash);
    if(lang==='en'){ restoreEnglish(); return; }
    loadDict(lang).then(d=>applyDict(d,lang)).catch(()=>restoreEnglish());
  }

  window.setLangFromMenu=setLang;

  (function initLangToggleLabel(){
    const btn=document.getElementById('langToggle'); if(!btn) return;
    const map={en:'EN',fr:'FR',de:'DE',ar:'AR'}; const lang=currentLang();
    btn.textContent=(map[lang]||'EN')+' ▾';
  })();

  const current=currentLang();
  if(current==='en') restoreEnglish(); else setLang(current);

  document.addEventListener("click",e=>{
    const b=e.target.closest("[data-lang]"); if(!b) return;
    e.preventDefault(); setLang(b.getAttribute("data-lang"));
  },{passive:true});
})();

/* Formulaire – Formspree par défaut */
document.addEventListener('DOMContentLoaded', () => {
  // thème initial
  let initial='light';
  try{
    const stored=localStorage.getItem('theme');
    if(stored){initial=stored;} else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){initial='dark';}
  }catch(e){}
  document.documentElement.dataset.theme=initial; document.documentElement.style.colorScheme=initial; updateThemeLabel();

  // sélecteur de langue à côté du thème
  const themeBtn=document.getElementById('themeToggle');
  if(themeBtn && themeBtn.parentNode){
    // [ADD] Ne crée PAS de doublon si un bouton langue statique existe déjà
    if(!document.getElementById('langToggle')){
      const wrap=document.createElement('div'); wrap.className='menu lang-menu';
      const btn=document.createElement('button'); btn.id='langToggle'; btn.className='toggle'; btn.type='button'; btn.setAttribute('aria-haspopup','true'); btn.textContent='EN ▾';
      const menu=document.createElement('div'); menu.id='lang-menu'; menu.className='submenu';
      menu.innerHTML = `
        <a href="#" data-lang="en">English</a>
        <a href="#" data-lang="de">Deutsch</a>
        <a href="#" data-lang="ar">العربية</a>
        <a href="#" data-lang="fr">Français</a>
      `;
      wrap.appendChild(btn); wrap.appendChild(menu);
      themeBtn.parentNode.insertBefore(wrap, themeBtn);
      btn.addEventListener('click',e=>toggleMenu(e,'lang-menu'));
      menu.addEventListener('click', function(e){
        const a = e.target.closest('a[data-lang]'); if (!a) return;
        e.preventDefault();
        if (window.setLangFromMenu) window.setLangFromMenu(a.dataset.lang);
        closeMenusOnInteraction({target:null});
        try{ const map={en:'EN',fr:'FR',de:'DE',ar:'AR'}; btn.textContent=(map[a.dataset.lang]||'EN')+' ▾'; }catch(_e){}
      });
      try{
        const params=new URLSearchParams(location.search);
        const lang=params.has('lang')?(params.get('lang')||'en').toLowerCase():'en';
        const map={en:'EN',fr:'FR',de:'DE',ar:'AR'}; btn.textContent=(map[lang]||'EN')+' ▾';
      }catch(_e){}
    } else {
      // [ADD] S’il existe déjà, s’assurer que le libellé reflète l’URL
      try{
        const params=new URLSearchParams(location.search);
        const lang=(params.get('lang')||'en').toLowerCase();
        const map={en:'EN',fr:'FR',de:'DE',ar:'AR'};
        const btnExisting=document.getElementById('langToggle');
        if(btnExisting) btnExisting.textContent=(map[lang]||'EN')+' ▾';
      }catch(_e){}
    }
  }

  // Pré-remplir e-mail si déjà saisi
  const emailInput = document.getElementById('fromEmail');
  try{ const saved = localStorage.getItem('visitor_email'); if(saved && emailInput) emailInput.value = saved; }catch(e){}

  const form = document.getElementById('contactForm');
  const statusEl = document.getElementById('formStatus');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    statusEl.className='status'; statusEl.textContent=i18nGet('contact.form.sending','Sending…');

    const formData = new FormData(form);
    try{ localStorage.setItem('visitor_email', formData.get('email') || ''); }catch(e){}

    try{
      // ⚠️ Remplace par ton endpoint Formspree / autre
      const resp = await fetch('https://formspree.io/f/XXXXXXXX', { method:'POST', body: formData, headers: { 'Accept': 'application/json' } });
      if(resp.ok){
        form.reset(); statusEl.className='status ok';
        statusEl.textContent=i18nGet('contact.form.success','Message sent successfully. Thank you!');
      }else{
        statusEl.className='status err';
        statusEl.textContent=i18nGet('contact.form.error','Sending failed. Please try again or email me directly.');
      }
    }catch(err){
      statusEl.className='status err';
      statusEl.textContent=i18nGet('contact.form.error_network','Network error. Please try again.');
    }
  });
});
</script>
</head>
<body data-theme="light">
  <div class="top-band">
    <div class="container">
      <header>
        <!-- AJOUT: bouton hamburger -->
        <button class="hamburger-btn" id="hamburgerBtn" aria-label="Open menu" aria-controls="mobile-drawer" aria-expanded="false">
          <span aria-hidden="true"></span>
        </button>

        <a href="index.html#home" style="display:inline-block">
          <img src="signature.png" alt="Signature" class="signature" fetchpriority="high"/>
        </a>

        <nav>
          <div class="menu">
            <a href="about.html" data-i18n="nav.about">About</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'about-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="about-menu" class="submenu">
              <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
              <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
              <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
              <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
            </div>
          </div>
          <a href="skills.html" data-i18n="nav.skills">Skills</a>
          <div class="menu">
            <a href="projects.html" data-i18n="nav.projects">Projects</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'projects-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="projects-menu" class="submenu">
              <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
              <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
            </div>
          </div>
          <a href="contact.html" data-i18n="nav.contact">Contact</a>
        </nav>

        <!-- [ADD] Bloc langue statique (desktop) : évite toute absence si l’injection échoue -->
        <div class="menu lang-menu" id="langMenuStatic">
          <button id="langToggle" class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'lang-menu')">EN ▾</button>
          <div id="lang-menu" class="submenu">
            <a href="#" data-lang="en">English</a>
            <a href="#" data-lang="de">Deutsch</a>
            <a href="#" data-lang="ar">العربية</a>
            <a href="#" data-lang="fr">Français</a>
          </div>
        </div>
        <!-- FIN [ADD] -->

        <!-- AJOUT: bouton thème -->
        <button id="themeToggle" class="toggle" onclick="toggleTheme()">☾ Night</button>
      </header>
    </div>
  </div>

  <!-- AJOUT: backdrop + tiroir mobile -->
  <div class="mobile-backdrop" id="mobileBackdrop" hidden></div>
  <aside class="mobile-drawer" id="mobile-drawer" aria-hidden="true">
    <header>
      <strong data-i18n="nav.contact">Menu</strong>
      <button class="toggle" type="button" id="mobileCloseBtn" aria-label="Close menu">✕</button>
    </header>

    <nav aria-label="Mobile navigation">
      <div class="mobile-heading" data-i18n="nav.about">About</div>
      <div class="mobile-group">
        <a href="about.html" data-i18n="nav.about">About</a>
        <div class="mobile-sub">
          <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
          <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
          <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
          <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
        </div>
      </div>

      <div class="mobile-heading" data-i18n="nav.skills">Skills</div>
      <div class="mobile-group">
        <a href="skills.html" data-i18n="nav.skills">Skills</a>
      </div>

      <div class="mobile-heading" data-i18n="nav.projects">Projects</div>
      <div class="mobile-group">
        <a href="projects.html" data-i18n="nav.projects">Projects</a>
        <div class="mobile-sub">
          <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
          <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
        </div>
      </div>

      <div class="mobile-heading" data-i18n="nav.contact">Contact</div>
      <div class="mobile-group">
        <a href="contact.html" data-i18n="nav.contact">Contact</a>
      </div>
    </nav>

    <div class="lang-grid" aria-label="Language">
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="fr">FR</button>
      <button class="lang-btn" data-lang="de">DE</button>
      <button class="lang-btn" data-lang="ar">AR</button>
    </div>
  </aside>

  <main class="page">
    <div class="sections">
      <section class="alt-section">
        <!-- Colonne GAUCHE : infos -->
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="contact.info.eyebrow">Contact</p>
          <h1 class="alt-title" data-i18n="contact.info.title">Let’s connect</h1>
          <p class="alt-text info-muted" data-i18n="contact.info.desc">
            You can reach me on LinkedIn or via e-mail. I’m based in Braunschweig, Germany.
          </p>

          <div class="info-stack">
            <!-- LinkedIn -->
            <div class="info-row">
              <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path fill="currentColor" d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM.5 8.5h4V24h-4V8.5zM8.5 8.5h3.8v2.1h.1c.5-.9 1.8-2.1 3.8-2.1 4.1 0 4.8 2.7 4.8 6.2V24h-4v-7.1c0-1.7 0-3.9-2.4-3.9s-2.8 1.9-2.8 3.8V24h-4V8.5z"/>
              </svg>
              <a href="https://de.linkedin.com/in/youssef-chabbou-aa3782374" target="_blank" rel="noopener noreferrer" data-i18n="contact.info.linkedin">
                LinkedIn Profile
              </a>
            </div>

            <!-- E-mail -->
            <div class="info-row">
              <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 18V8.236l8 6.764 8-6.764V18H4z"/></svg>
              <a href="mailto:Youssefchabbou@outlook.com">Youssefchabbou@outlook.com</a>
            </div>

            <!-- Localisation -->
            <div class="info-row">
              <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/></svg>
              <span>Braunschweig, Germany</span>
            </div>
          </div>
        </div>

        <!-- Colonne DROITE : formulaire -->
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="contact.form.eyebrow">Send a message</p>
          <h2 class="alt-title" data-i18n="contact.form.title">Contact form</h2>

          <form id="contactForm" class="contact-form" enctype="multipart/form-data">
            <div class="field">
              <label class="label" for="fromEmail" data-i18n="contact.form.email_label">Your e-mail</label>
              <input class="input" id="fromEmail" name="email" type="email" autocomplete="email" required
                     placeholder="you@example.com" data-i18n="contact.form.email_ph"/>
            </div>

            <div class="field">
              <label class="label" for="subject" data-i18n="contact.form.subject_label">Subject</label>
              <input class="input" id="subject" name="subject" type="text" required
                     placeholder="Topic…" data-i18n="contact.form.subject_ph"/>
            </div>

            <div class="field">
              <label class="label" for="message" data-i18n="contact.form.message_label">Message</label>
              <textarea class="textarea" id="message" name="message" required
                        placeholder="Write your message…" data-i18n="contact.form.message_ph"></textarea>
            </div>

            <div class="field">
              <label class="label" for="attachment" data-i18n="contact.form.attachment_label">Attachment</label>
              <input class="file" id="attachment" name="attachment" type="file" />
              <span class="hint" data-i18n="contact.form.attachment_hint">Optional. Attach relevant file(s).</span>
            </div>

            <input type="hidden" name="_to" value="Youssefchabbou@outlook.com"/>

            <button class="submit" type="submit" data-i18n="contact.form.send_btn">Send</button>
            <div id="formStatus" class="status" aria-live="polite"></div>
          </form>

          <p class="hint" style="margin-top:10px" data-i18n="contact.form.privacy_hint">
            Your data will only be used to process your message.
          </p>
        </div>
      </section>
    </div>
  </main>

  <div class="footer-band">© 2025 Youssef Chabbou
    <span data-i18n="footer.created_by" style="font-size:12px;color:rgba(255,255,255,0.75);float:right;text-align:right;line-height:1.4;">
      This website was entirely created by its owner,<br/>Youssef Chabbou, using AI-Augmented Development.
    </span>
  </div>

  <!-- Contrôle hamburger -->
  <script>
    (function(){
      const html = document.documentElement;
      const body = document.body;
      const btn = document.getElementById('hamburgerBtn');
      const drawer = document.getElementById('mobile-drawer');
      const backdrop = document.getElementById('mobileBackdrop');
      const closeBtn = document.getElementById('mobileCloseBtn');

      function openDrawer(){
        html.classList.add('mobile-open');
        body.classList.add('mobile-open');
        drawer.setAttribute('aria-hidden','false');
        if(btn) btn.setAttribute('aria-expanded','true');
        backdrop.hidden = false;
      }
      function closeDrawer(){
        html.classList.remove('mobile-open');
        body.classList.remove('mobile-open');
        drawer.setAttribute('aria-hidden','true');
        if(btn) btn.setAttribute('aria-expanded','false');
        setTimeout(()=>{backdrop.hidden = true;}, 200);
      }

      if (btn){
        btn.addEventListener('click', ()=>{
          const isOpen = html.classList.contains('mobile-open');
          if (isOpen) closeDrawer(); else openDrawer();
        });
      }
      if (closeBtn) closeBtn.addEventListener('click', closeDrawer);
      if (backdrop) backdrop.addEventListener('click', closeDrawer);
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });

      // fermer le tiroir si on clique un lien
      drawer.addEventListener('click', (e)=>{
        const a = e.target.closest('a');
        if (a) closeDrawer();
      });

      // changement de langue via boutons du tiroir
      drawer.addEventListener('click', (e)=>{
        const b = e.target.closest('.lang-btn[data-lang]');
        if (!b) return;
        e.preventDefault();
        if (window.setLangFromMenu) window.setLangFromMenu(b.dataset.lang);
        closeDrawer();
      });
    })();
  </script>
  <script>
/* ===== Language persistence (session) + link propagation (ADD-ONLY) ===== */
(function(){
  const KEY = 'site_lang';
  const SUP = new Set(['en','fr','de','ar']);

  function getParamLang(){
    try{
      const p = new URLSearchParams(location.search);
      const l = (p.get('lang') || '').toLowerCase();
      return l && SUP.has(l) ? l : null;
    }catch(_){ return null; }
  }

  function applyLang(lang){
    if(!lang || !SUP.has(lang)) return;
    if (typeof window.setLangFromMenu === 'function') {
      window.setLangFromMenu(lang);
    } else {
      // Fallback minimal si l'i18n n'est pas encore prêt
      document.documentElement.setAttribute('lang', lang);
      document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
    }
  }

  function rewriteInternalLinks(){
    const current = sessionStorage.getItem(KEY) || 'en';
    if (!SUP.has(current) || current === 'en') return; // laisser des URLs propres en EN
    document.querySelectorAll('a[href]').forEach(a=>{
      const href = a.getAttribute('href');
      if (!href) return;
      // Ignorer externes / mailto / tel / ancres
      if (/^(https?:\/\/|mailto:|tel:)/i.test(href)) return;
      if (href.startsWith('#')) return;
      try{
        const url = new URL(href, location.origin);
        // même origine uniquement
        if (url.origin !== location.origin) return;
        if (url.searchParams.has('lang')) return;
        url.searchParams.set('lang', current);
        a.setAttribute('href', url.pathname + url.search + url.hash);
      }catch(_){}
    });
  }

  // 1) Déterminer la langue à utiliser
  const fromParam = getParamLang();
  if (fromParam) {
    try{ sessionStorage.setItem(KEY, fromParam); }catch(_){}
  }
  const stored = sessionStorage.getItem(KEY);
  const langToUse = (stored && SUP.has(stored)) ? stored : (fromParam || 'en');

  // 2) Appliquer la langue choisie (si différente de EN)
  function initApply(){
    if (langToUse && langToUse !== 'en') applyLang(langToUse);
    rewriteInternalLinks();
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initApply, {once:true});
  } else {
    initApply();
  }

  // 3) Quand l'utilisateur change de langue via les menus existants (data-lang)
  document.addEventListener('click', function(e){
    const b = e.target && e.target.closest && e.target.closest('[data-lang]');
    if (!b) return;
    const l = (b.getAttribute('data-lang') || '').toLowerCase();
    if (!SUP.has(l)) return;
    try{ sessionStorage.setItem(KEY, l); }catch(_){}
    // Laisse setLangFromMenu faire son travail, puis met à jour les liens
    setTimeout(rewriteInternalLinks, 0);
  }, {passive:true});

  // 4) Si la page change la langue autrement (ex: boutons desktop), synchroniser le label du bouton langue
  function syncLangButtonLabel(){
    const btn = document.getElementById('langToggle'); if(!btn) return;
    const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
    const cur = (sessionStorage.getItem(KEY) || 'en').toLowerCase();
    btn.textContent = (map[cur] || 'EN') + ' ▾';
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', syncLangButtonLabel, {once:true});
  } else {
    syncLangButtonLabel();
  }
  window.addEventListener('storage', syncLangButtonLabel, {passive:true}); // au cas d'autres onglets

})();
</script>

</body>
</html>
