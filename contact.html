<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
  :root{
    --bg:#fff;--fg:#1f2937;--muted:#6b7280;--brand:#0b5fa5;--card:#f8fafc;--ring:#dbeafe;--overlay:rgba(255,255,255,0.85);
    --edge:24px;
    --card-pad:26px;
  }
  [data-theme="dark"]{
    --bg:#0d1117;--fg:#e6edf3;--muted:#8b949e;--brand:#58a6ff;--card:#161b22;--ring:#30363d;--overlay:rgba(0,0,0,0.7)
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;display:flex;flex-direction:column;min-height:100vh;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;
    background:var(--bg);color:var(--fg);line-height:1.6;
    transition:background .3s,color .3s
  }
  body::before{
    content:"";position:fixed;inset:0;z-index:-2;
    background:url('background.jpg') no-repeat center/cover
  }

  .top-band{position:sticky;top:0;width:100%;background:rgba(11,95,165,.35);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:1000}
  .container{max-width:1200px;margin:auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;padding:4px 12px;min-height:40px}
  header img.signature{height:40px;width:auto;object-fit:contain;cursor:pointer;display:block}
  nav{display:flex;gap:40px;align-items:center}
  nav a{font-weight:500;text-decoration:none;color:var(--fg);opacity:.9;cursor:pointer}
  nav a:hover{opacity:1;text-decoration:underline}
  .menu{position:relative}
  .submenu{position:absolute;top:100%;left:0;background:var(--card);border:1px solid var(--ring);border-radius:8px;min-width:160px;box-shadow:0 6px 18px rgba(0,0,0,.08);opacity:0;transform:translateY(-10px);transition:opacity .25s ease,transform .25s ease;display:none}
  .submenu.show{display:block;opacity:1;transform:translateY(0)}
  .submenu a{display:block;padding:6px 10px;color:var(--fg);text-decoration:none;cursor:default}
  .submenu a:hover{background:var(--ring)}
  .toggle{border:1px solid var(--ring);background:transparent;color:var(--fg);padding:4px 8px;border-radius:8px;cursor:pointer;transition:background .3s,color .3s}

  .page{max-width:1200px;margin:0 auto;padding:32px 24px 24px;z-index:1;position:relative}

  .footer-band{background-color:rgba(11,95,165,.6);color:#fff;text-align:left;padding:20px;margin-top:auto;position:relative;z-index:1}

  .top-band,header,nav{max-width:100vw}
  header>*{min-width:0}
  nav{min-width:0}

  /* Sections */
  .sections{max-width:1200px;margin:0 auto;padding:24px 24px 96px}
  .alt-section{
    display:grid;
    grid-template-columns:1.05fr 1fr;
    gap:36px;
    align-items:center;          /* >>> centres verticaux parfaitement alignés */
    margin:60px 0;               /* léger espace supplémentaire entre rangées */
  }
  .alt-section.reverse{grid-template-columns:1fr 1.05fr}

  /* Cartes : fond blanc (semi-opaque) comme ta ref */
  .alt-card{
    background: rgba(255,255,255,0.75);
    backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
    border-radius:24px;
    padding:28px var(--card-pad);
    box-shadow:0 10px 30px rgba(0,0,0,.12),0 1px 0 rgba(255,255,255,.14) inset;
    color:#111827;
    display:flex;flex-direction:column;
  }
  [data-theme="dark"] .alt-card{
    background: rgba(0,0,0,0.55);
    box-shadow:0 10px 30px rgba(0,0,0,.35),0 1px 0 rgba(255,255,255,.06) inset;
    color:#eaeef5;
  }

  .alt-eyebrow{
    display:inline-block;font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:#0f172a;
    margin:0 0 10px;padding:6px 14px;border-radius:999px;
    background: linear-gradient(90deg, rgba(11,95,165,.18), rgba(11,95,165,.06));
  }
  [data-theme="dark"] .alt-eyebrow{
    color:#e6eef8;
    background: linear-gradient(180deg, rgba(2,6,23,.88), rgba(2,6,23,.72));
    border:1px solid rgba(88,166,255,.28);
  }

  .alt-title{font-size:clamp(22px,2.8vw,36px);line-height:1.18;margin:0 0 12px;color:var(--fg)}
  [data-theme="dark"] .alt-title{color:#f3f6fb}

  .alt-text{margin:0;color:#111827;font-size:16px}
  [data-theme="dark"] .alt-text{color:#eaeef5}

  /* Carte photo — hauteur stable, même contour visuel */
  figure{margin:0}              /* évite un décalage fantôme du <figure> */
  .alt-media{
    border-radius:26px;
    overflow:hidden;
    box-shadow:0 18px 40px rgba(0,0,0,.16);
    display:block;
    background:rgba(255,255,255,0.10);
    aspect-ratio:16/10;         /* garde une taille cohérente même si l'image manque */
  }
  .alt-media img{
    display:block;width:100%;height:100%;
    object-fit:cover;            /* remplit sans déformer */
    transform:scale(1.02);
    transition:transform .6s ease;
  }
  .alt-media:hover img{transform:scale(1.06)}

  .reveal{opacity:0;transform:translateY(20px);transition:opacity .6s ease,transform .6s ease}
  .reveal.in{opacity:1;transform:translateY(0)}

  .lang-menu{display:inline-block;margin-right:4px}
  .lang-menu .toggle{font-size:12px;padding:4px 8px;border-radius:8px}

  section[id]{scroll-margin-top:120px}

  @media(max-width:900px){
    .sections{padding:16px 16px 72px}
    .alt-section,.alt-section.reverse{grid-template-columns:1fr}
    .alt-section.reverse .alt-card{order:2}
    .alt-section.reverse .alt-media{order:1}
    .alt-media{width:100%}
  }

  @media(max-width:640px){
    .container{padding:12px 16px}
    .top-band{position:static}
    header{flex-wrap:wrap;gap:8px}
    header img.signature{height:28px}
    nav{flex:1 1 100%;display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start;min-width:0}
    nav a{font-size:14px;line-height:1.2;white-space:nowrap}
    .toggle{padding:6px 10px;font-size:14px}
    .submenu{max-width:calc(100vw - 24px);overflow-wrap:anywhere;left:0;right:auto}
    html,body{overflow-x:hidden}
  }

  /* =========================
     AJOUTS : HAMBURGER MOBILE
     ========================= */
  .hamburger-btn{display:none;appearance:none;border:0;background:transparent;width:40px;height:40px;align-items:center;justify-content:center;cursor:pointer}
  .hamburger-btn span{display:block;width:22px;height:2px;background:var(--fg);border-radius:2px;position:relative}
  .hamburger-btn span::before,.hamburger-btn span::after{content:"";position:absolute;left:0;width:22px;height:2px;background:var(--fg);border-radius:2px}
  .hamburger-btn span::before{top:-7px}
  .hamburger-btn span::after{top:7px}

  .mobile-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:999}
  .mobile-drawer{position:fixed;top:0;left:0;height:100%;width:86vw;max-width:360px;background:var(--bg);border-right:1px solid var(--ring);box-shadow:0 10px 30px rgba(0,0,0,.18);transform:translateX(-102%);transition:transform .25s ease;z-index:1000;display:flex;flex-direction:column}
  .mobile-drawer header{padding:14px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--ring)}
  .mobile-drawer nav{display:flex;flex-direction:column;gap:4px;padding:12px 12px 18px}
  .mobile-drawer nav a{padding:10px 12px;border-radius:10px;text-decoration:none;color:var(--fg)}
  .mobile-drawer nav a:hover{background:var(--card)}
  .mobile-drawer .mobile-sub{padding:0 12px 12px}
  .mobile-drawer .mobile-sub a{display:block;padding:8px 12px;margin-left:12px;border-radius:8px}
  .mobile-drawer .lang-grid{padding:12px;border-top:1px solid var(--ring);display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px;background:var(--bg)}
  .mobile-drawer .lang-btn{padding:10px;border:1px solid var(--ring);border-radius:10px;background:var(--card);text-align:center;cursor:pointer}
  .mobile-drawer .lang-btn:active{transform:scale(.98)}

  .mobile-open .mobile-backdrop{opacity:1;pointer-events:auto}
  .mobile-open .mobile-drawer{transform:translateX(0)}

  @media (max-width:640px){
    .hamburger-btn{display:flex}
    .top-band nav{display:none !important}
    .lang-menu{display:none !important}
    .top-band header{
      display:grid;
      grid-template-columns:40px 1fr auto;
      align-items:center;
      gap:8px;
    }
    .top-band header > a[href="index.html"]{justify-self:center}
    #themeToggle{justify-self:end}
  }

  .hamburger-btn:focus-visible,.mobile-drawer a:focus-visible,.lang-btn:focus-visible{outline:2px solid var(--brand);outline-offset:3px}
  @media (prefers-reduced-motion:reduce){
    .mobile-backdrop,.mobile-drawer{transition:none}
  }

  .mobile-heading{
    margin:14px 12px 6px;
    font-size:13px;
    font-weight:700;
    letter-spacing:.08em;
    text-transform:uppercase;
    color: var(--muted);
    border-top:1px solid var(--ring);
    padding-top:10px;
  }
  .mobile-group{ padding:2px 0 8px; }
  .mobile-group > a{ display:block; padding:10px 12px; border-radius:10px; }
  .mobile-sub{
    padding:0 12px 10px;
    margin:2px 0 6px;
    border-left:2px solid var(--ring);
  }
  .mobile-sub a{
    display:block;
    padding:8px 12px 8px 10px;
    border-radius:8px;
  }
  .mobile-sep{ height:8px; }

  /* header sticky + scroll interne */
  .mobile-drawer header{
    position: sticky;
    top: 0;
    z-index: 2;
    background: var(--bg);
    border-bottom: 1px solid var(--ring);
    padding-top: calc(14px + env(safe-area-inset-top, 0px));
  }
  .mobile-drawer nav{
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 16px;
  }
  .mobile-drawer nav .mobile-heading:first-of-type{
    margin-top: 12px;
    border-top: 0;
    padding-top: 0;
  }

  html.mobile-open, body.mobile-open{ overflow: hidden; }

  /* RTL dynamique */
  html[dir="rtl"] body{ direction: rtl; }
  html[dir="rtl"] .alt-card, html[dir="rtl"] .alt-text, html[dir="rtl"] .alt-title, html[dir="rtl"] p, html[dir="rtl"] h3, html[dir="rtl"] a{ text-align:right; }
  html[dir="rtl"] nav{ justify-content:flex-end; }
  html[dir="rtl"] .submenu{ left:auto; right:0; }
  html[dir="rtl"] .mobile-drawer{ left:auto; right:0; transform:translateX(102%); }
  html.mobile-open[dir="rtl"] .mobile-drawer{ transform:translateX(0); }
  html[dir="rtl"] .mobile-sub{ border-left:none; border-right:2px solid var(--ring); }
  @media (max-width:640px){
    html[dir="rtl"] .top-band header{
      grid-template-columns:auto 1fr 40px;
    }
    html[dir="rtl"] #themeToggle{ justify-self:start; }
    html[dir="rtl"] .top-band header > a[href="index.html"]{ justify-self:center; }
  }
</style>

<script>
/* ===== Helpers i18n pour le bouton thème ===== */
function i18nGet(key, fallback){
  try{
    let v = window.__i18nDict;
    for (const part of key.split('.')) v = v && v[part];
    return v || fallback;
  }catch(e){ return fallback; }
}
function updateThemeLabel(){
  const btn = document.getElementById('themeToggle');
  if (!btn) return;
  const isDark = (document.documentElement.dataset.theme === 'dark');
  const day  = i18nGet('ui.theme_day','☀︎ Day');
  const night= i18nGet('ui.theme_night','☾ Night');
  btn.textContent = isDark ? day : night;
}

/* ===== Thème ===== */
function toggleTheme(){
  const html=document.documentElement;
  const next=html.dataset.theme==='dark'?'light':'dark';
  html.dataset.theme=next;
  try{localStorage.setItem('theme',next);}catch(e){}
  document.documentElement.style.colorScheme=next;
  if (document.getElementById('themeToggle')) updateThemeLabel();
}

/* ===== Menus ===== */
function toggleMenu(e,id){
  e.preventDefault();
  const m=document.getElementById(id);
  if(!m) return;
  const isOpen=m.classList.contains('show');
  document.querySelectorAll('.submenu').forEach(sm=>{sm.classList.remove('show');sm.style.display='none';});
  if(!isOpen){m.style.display='block';requestAnimationFrame(()=>m.classList.add('show'));}
}
function closeMenusOnInteraction(ev){
  const inside=ev.target&&ev.target.closest&&ev.target.closest('.menu');
  if(!inside){document.querySelectorAll('.submenu').forEach(m=>{m.classList.remove('show');setTimeout(()=>m.style.display='none',250);});}
}
document.addEventListener('click',closeMenusOnInteraction);
document.addEventListener('scroll',()=>closeMenusOnInteraction({target:null}),{passive:true});
document.addEventListener('keydown',(e)=>{if(e.key==='Escape')closeMenusOnInteraction({target:null});});

/* ===== Init thème + languette ===== */
document.addEventListener('DOMContentLoaded',function(){
  // thème initial
  let initial='light';
  try{
    const stored=localStorage.getItem('theme');
    if(stored){initial=stored;}
    else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){initial='dark';}
  }catch(e){}
  document.documentElement.dataset.theme=initial;
  document.documentElement.style.colorScheme=initial;
  if (document.getElementById('themeToggle')) updateThemeLabel();

  // languette à droite du bouton thème
  const themeBtn=document.getElementById('themeToggle');
  if(!themeBtn||!themeBtn.parentNode) return;

  const wrap=document.createElement('div');
  wrap.className='menu lang-menu';

  const btn=document.createElement('button');
  btn.id='langToggle';btn.className='toggle';btn.type='button';btn.setAttribute('aria-haspopup','true');btn.textContent='EN ▾';

  const menu=document.createElement('div');
  menu.id='lang-menu';menu.className='submenu';
  menu.innerHTML = `
    <a href="#" data-lang="en">English</a>
    <a href="#" data-lang="de">Deutsch</a>
    <a href="#" data-lang="ar">العربية</a>
    <a href="#" data-lang="fr">Français</a>
  `;

  wrap.appendChild(btn);wrap.appendChild(menu);
  themeBtn.parentNode.insertBefore(wrap,themeBtn);
  btn.addEventListener('click',function(e){toggleMenu(e,'lang-menu');});

  // clic sur une langue
  menu.addEventListener('click', function(e){
    const a = e.target.closest('a[data-lang]');
    if (!a) return;
    e.preventDefault();
    if (window.setLangFromMenu) window.setLangFromMenu(a.dataset.lang);
    closeMenusOnInteraction({target:null});
    try{
      const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
      btn.textContent = (map[a.dataset.lang] || 'EN') + ' ▾';
    }catch(_e){}
  });

  // label au chargement selon ?lang=
  try{
    const params=new URLSearchParams(location.search);
    const lang = params.has('lang') ? (params.get('lang')||'en').toLowerCase() : 'en';
    const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
    btn.textContent = (map[lang] || 'EN') + ' ▾';
  }catch(_e){}
});
</script>
</head>

<body data-theme="light">
  <div class="top-band">
    <div class="container">
      <header>
        <!-- AJOUT: bouton hamburger -->
        <button class="hamburger-btn" id="hamburgerBtn" aria-label="Open menu" aria-controls="mobile-drawer" aria-expanded="false">
          <span aria-hidden="true"></span>
        </button>

        <a href="index.html" style="display:inline-block">
          <img src="signature.png" alt="Signature" class="signature" />
        </a>

        <nav>
          <!-- About -->
          <div class="menu">
            <a href="about.html" data-i18n="nav.about">About</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'about-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="about-menu" class="submenu">
              <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
              <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
              <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
              <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
            </div>
          </div>

          <!-- Skills (current) -->
          <a href="skills.html" data-i18n="nav.skills">Skills</a>

          <!-- Projects -->
          <div class="menu">
            <a href="projects.html" data-i18n="nav.projects">Projects</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'projects-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="projects-menu" class="submenu">
              <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
              <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
            </div>
          </div>

          <!-- Contact -->
          <a href="contact.html" data-i18n="nav.contact">Contact</a>
        </nav>

        <button id="themeToggle" class="toggle" onclick="toggleTheme()">☾ Night</button>
      </header>
    </div>
  </div>

  <!-- AJOUT: backdrop + tiroir mobile -->
  <div class="mobile-backdrop" id="mobileBackdrop" hidden></div>
  <aside class="mobile-drawer" id="mobile-drawer" aria-hidden="true">
    <header>
      <strong data-i18n="nav.skills">Menu</strong>
      <button class="toggle" type="button" id="mobileCloseBtn" aria-label="Close menu">✕</button>
    </header>

    <nav aria-label="Mobile navigation">
      <div class="mobile-heading" data-i18n="nav.about">About</div>
      <div class="mobile-group">
        <a href="about.html" data-i18n="nav.about">About</a>
        <div class="mobile-sub">
          <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
          <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
          <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
          <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
        </div>
      </div>

      <div class="mobile-heading" data-i18n="nav.skills">Skills</div>
      <div class="mobile-group">
        <a href="skills.html" data-i18n="nav.skills">Skills</a>
      </div>

      <div class="mobile-heading" data-i18n="nav.projects">Projects</div>
      <div class="mobile-group">
        <a href="projects.html" data-i18n="nav.projects">Projects</a>
        <div class="mobile-sub">
          <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
          <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
        </div>
      </div>

      <div class="mobile-heading" data-i18n="nav.contact">Contact</div>
      <div class="mobile-group">
        <a href="contact.html" data-i18n="nav.contact">Contact</a>
      </div>
    </nav>

    <div class="lang-grid" aria-label="Language">
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="fr">FR</button>
      <button class="lang-btn" data-lang="de">DE</button>
      <button class="lang-btn" data-lang="ar">AR</button>
    </div>
  </aside>

  <main class="page" id="main">
    <!-- Pas de titre/lead en haut, comme demandé -->
    <div class="sections">

      <!-- Technical Skills / CAD -->
      <section id="technical" class="alt-section reverse reveal">
        <figure class="alt-media">
          <img src="cad.jpg" alt="CAD workspace and parametric model" loading="lazy" decoding="async">
        </figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="skills.cad.eyebrow">Technical Skills</p>
          <h3 class="alt-title" data-i18n="skills.cad.title">Computer-Aided Design (CAD)</h3>
          <p class="alt-text" data-i18n="skills.cad.text">
            Good command of 3D mechanical design and parametric modeling tools, developed through personal and academic projects.
          </p>
        </div>
      </section>

      <!-- Interpersonal Skills / Team Communication -->
      <section id="interpersonal" class="alt-section reveal">
        <figure class="alt-media">
          <img src="team-comm.jpg" alt="Team collaborating around a whiteboard" loading="lazy" decoding="async">
        </figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="skills.team.eyebrow">Interpersonal Skills</p>
          <h3 class="alt-title" data-i18n="skills.team.title">Team Communication</h3>
          <p class="alt-text" data-i18n="skills.team.text">
            Experienced in collaborating within diverse teams, sharing ideas, and contributing to a constructive and supportive work environment.
          </p>
        </div>
      </section>

      <!-- Organizational Skills / Administrative understanding -->
      <section id="organizational" class="alt-section reverse reveal">
        <figure class="alt-media">
          <img src="org-admin.jpg" alt="Organizational charts and documents" loading="lazy" decoding="async">
        </figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="skills.admin.eyebrow">Organizational Skills</p>
          <h3 class="alt-title" data-i18n="skills.admin.title">Administrative and Procedural Understanding</h3>
          <p class="alt-text" data-i18n="skills.admin.text">
            Solid grasp of company structures, legal processes, hierarchies, and international professional protocols.
          </p>
        </div>
      </section>

      <!-- Cultural Skills / Intercultural adaptability -->
      <section id="cultural" class="alt-section reveal">
        <figure class="alt-media">
          <img src="intercultural.jpg" alt="Global network and multicultural collaboration" loading="lazy" decoding="async">
        </figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="skills.culture.eyebrow">Cultural Skills</p>
          <h3 class="alt-title" data-i18n="skills.culture.title">Intercultural Adaptability</h3>
          <p class="alt-text" data-i18n="skills.culture.text">
            Able to work effectively in multicultural environments and adapt to different work approaches and mindsets.
          </p>
        </div>
      </section>

    </div>
  </main>

  <div class="footer-band">© 2025 Youssef Chabbou
    <span data-i18n="footer.created_by" style="font-size:12px; color:rgba(255,255,255,0.75); float:right; text-align:right; line-height:1.4;">
      This website was entirely created by its owner,<br>
      Youssef Chabbou, using AI-Augmented Development.
    </span>
  </div>

  <script>
    (function(){
      const prefersReduced=window.matchMedia&&window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefersReduced){
        document.querySelectorAll('.reveal').forEach(el=>el.classList.add('in'));
        return;
      }
      const io=new IntersectionObserver((entries)=>{
        entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');io.unobserve(e.target);}});
      },{threshold:0.15});
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    })();
  </script>

 

  <!-- Contrôle hamburger -->
  <script>
    (function(){
      const html = document.documentElement;
      const body = document.body;
      const btn = document.getElementById('hamburgerBtn');
      const drawer = document.getElementById('mobile-drawer');
      const backdrop = document.getElementById('mobileBackdrop');
      const closeBtn = document.getElementById('mobileCloseBtn');

      function openDrawer(){
        html.classList.add('mobile-open');
        body.classList.add('mobile-open');
        drawer.setAttribute('aria-hidden','false');
        btn.setAttribute('aria-expanded','true');
        backdrop.hidden = false;
      }
      function closeDrawer(){
        html.classList.remove('mobile-open');
        body.classList.remove('mobile-open');
        drawer.setAttribute('aria-hidden','true');
        btn.setAttribute('aria-expanded','false');
        setTimeout(()=>{backdrop.hidden = true;}, 200);
      }

      if (btn){
        btn.addEventListener('click', ()=>{
          const isOpen = html.classList.contains('mobile-open');
          if (isOpen) closeDrawer(); else openDrawer();
        });
      }
      if (closeBtn) closeBtn.addEventListener('click', closeDrawer);
      if (backdrop) backdrop.addEventListener('click', closeDrawer);
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });

      // fermer le tiroir si on clique un lien
      drawer.addEventListener('click', (e)=>{
        const a = e.target.closest('a');
        if (a) closeDrawer();
      });

      // changement de langue via boutons du tiroir
      drawer.addEventListener('click', (e)=>{
        const b = e.target.closest('.lang-btn[data-lang]');
        if (!b) return;
        e.preventDefault();
        if (window.setLangFromMenu) window.setLangFromMenu(b.dataset.lang);
        closeDrawer();
      });
    })();
  </script>
  <script defer src="i18n.js"></script>


</body>
</html>
