<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
  :root{
    --bg:#fff;--fg:#1f2937;--muted:#6b7280;--brand:#0b5fa5;--card:#f8fafc;--ring:#dbeafe;--overlay:rgba(255,255,255,0.85)
  }
  [data-theme="dark"]{
    --bg:#0d1117;--fg:#e6edf3;--muted:#8b949e;--brand:#58a6ff;--card:#161b22;--ring:#30363d;--overlay:rgba(0,0,0,0.7)
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;display:flex;flex-direction:column;min-height:100vh;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;
    background:var(--bg);color:var(--fg);line-height:1.6;
    transition:background .3s,color .3s
  }
  body::before{
    content:"";position:fixed;inset:0;z-index:-2;
    background:url('background.jpg') no-repeat center/cover
  }

  .top-band{position:sticky;top:0;width:100%;background:rgba(11,95,165,.35);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:1000}
  .container{max-width:1200px;margin:auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;padding:4px 12px;min-height:40px}
  header img.signature{height:40px;width:auto;object-fit:contain;cursor:pointer;display:block}
  nav{display:flex;gap:40px;align-items:center}
  nav a{font-weight:500;text-decoration:none;color:var(--fg);opacity:.9;cursor:pointer}
  nav a:hover{opacity:1;text-decoration:underline}
  .menu{position:relative}
  .submenu{position:absolute;top:100%;left:0;background:var(--card);border:1px solid var(--ring);border-radius:8px;min-width:160px;box-shadow:0 6px 18px rgba(0,0,0,.08);opacity:0;transform:translateY(-10px);transition:opacity .25s ease,transform .25s ease;display:none}
  .submenu.show{display:block;opacity:1;transform:translateY(0)}
  .submenu a{display:block;padding:6px 10px;color:var(--fg);text-decoration:none;cursor:default}
  .submenu a:hover{background:var(--ring)}
  .toggle{border:1px solid var(--ring);background:transparent;color:var(--fg);padding:4px 8px;border-radius:8px;cursor:pointer;transition:background .3s,color .3s}

  .landing{position:relative;height:100vh;overflow:hidden;display:flex;justify-content:center;align-items:center;z-index:1;text-align:center}
  .hook{font-size:clamp(32px,7vw,80px);font-weight:900;letter-spacing:1px;color:var(--fg);padding:8px 16px;z-index:2;position:relative;background:rgba(255,255,255,.25);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;margin:0 auto}
  .hook em{color:var(--brand);font-style:normal}
  .flight-stage{position:absolute;inset:0;pointer-events:none;z-index:1}
  .plane{position:absolute;left:0;bottom:0;width:64px;height:64px;opacity:.9;filter:drop-shadow(0 4px 10px rgba(0,0,0,.25))}

  .page{max-width:1200px;margin:0 auto;padding:48px 24px 24px;z-index:1;position:relative}
  .hero h1{font-size:44px;line-height:1.1;margin:0 0 12px;color:var(--brand)}
  .subtitle{font-size:20px;font-weight:600;margin:0 0 24px}
  .lead{max-width:820px;margin:0 auto 28px;color:var(--muted);font-size:18px}
  .buttons{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}
  .btn{padding:10px 16px;border-radius:12px;border:1px solid var(--ring);text-decoration:none;color:var(--fg);background:var(--card);transition:background .3s,color .3s}
  .btn.primary{background:var(--brand);color:#fff;border-color:transparent}

  .footer-band{background-color:rgba(11,95,165,.6);color:#fff;text-align:left;padding:20px;margin-top:auto;position:relative;z-index:1}

  .top-band,header,nav{max-width:100vw}
  header>*{min-width:0}
  nav{min-width:0}

  /* Sections */
  .sections{max-width:1200px;margin:0 auto;padding:56px 24px 96px}
  .alt-section{display:grid;grid-template-columns:1.05fr 1fr;gap:36px;align-items:center;margin:54px 0}
  .alt-section.reverse{grid-template-columns:1fr 1.05fr}
  .alt-card{background:rgba(255,255,255,.28);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);border-radius:24px;padding:28px 26px;box-shadow:0 10px 30px rgba(0,0,0,.08),0 1px 0 rgba(255,255,255,.18) inset;color:var(--fg)}
  [data-theme="dark"] .alt-card{background:rgba(0,0,0,.38);box-shadow:0 10px 30px rgba(0,0,0,.35),0 1px 0 rgba(255,255,255,.06) inset}
  .alt-eyebrow{display:inline-block;font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:var(--fg);margin:0 0 10px;padding:4px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(11,95,165,.18),rgba(11,95,165,.06))}
  [data-theme="dark"] .alt-eyebrow{background:linear-gradient(90deg,rgba(88,166,255,.25),rgba(88,166,255,.08))}
  .alt-title{font-size:clamp(22px,2.8vw,36px);line-height:1.18;margin:0 0 12px;color:var(--fg)}
  .alt-text{margin:0;color:var(--muted);font-size:16px}
  [data-theme="light"] .alt-card .alt-text{color:#374151}
  [data-theme="dark"] .alt-card .alt-text{color:#c9d1d9}
  .alt-media{border-radius:26px;overflow:hidden;box-shadow:0 18px 40px rgba(0,0,0,.16)}
  .alt-media img{display:block;width:100%;height:auto;aspect-ratio:16/10;object-fit:cover;transform:scale(1.02);transition:transform .6s ease}
  .alt-media:hover img{transform:scale(1.06)}
  .reveal{opacity:0;transform:translateY(20px);transition:opacity .6s ease,transform .6s ease}
  .reveal.in{opacity:1;transform:translateY(0)}

  /* Language menu minimal styles */
  .lang-menu{display:inline-block;margin-right:4px}
  .lang-menu .toggle{font-size:12px;padding:4px 8px;border-radius:8px}

  /* ancrage propre (sticky header) */
  section[id]{scroll-margin-top:120px}

  @media(max-width:900px){
    .sections{padding:40px 16px 72px}
    .alt-section,.alt-section.reverse{grid-template-columns:1fr}
    .alt-section.reverse .alt-card{order:2}
    .alt-section.reverse .alt-media{order:1}
    .alt-media img{aspect-ratio:16/11}
  }

  @media(max-width:640px){
    .container{padding:12px 16px}
    .top-band{position:static}
    header{flex-wrap:wrap;gap:8px}
    header img.signature{height:28px}
    nav{flex:1 1 100%;display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start;min-width:0}
    nav a{font-size:14px;line-height:1.2;white-space:nowrap}
    .toggle{padding:6px 10px;font-size:14px}
    .submenu{max-width:calc(100vw - 24px);overflow-wrap:anywhere;left:0;right:auto}
    html,body{overflow-x:hidden}
  }

  /* =========================
     AJOUTS : HAMBURGER MOBILE
     ========================= */
  /* Bouton hamburger (caché en desktop) */
  .hamburger-btn{display:none;appearance:none;border:0;background:transparent;width:40px;height:40px;align-items:center;justify-content:center;cursor:pointer}
  .hamburger-btn span{display:block;width:22px;height:2px;background:var(--fg);border-radius:2px;position:relative}
  .hamburger-btn span::before,.hamburger-btn span::after{content:"";position:absolute;left:0;width:22px;height:2px;background:var(--fg);border-radius:2px}
  .hamburger-btn span::before{top:-7px}
  .hamburger-btn span::after{top:7px}

  /* Drawer + backdrop */
  .mobile-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:999}
  .mobile-drawer{position:fixed;top:0;left:0;height:100%;width:86vw;max-width:360px;background:var(--bg);border-right:1px solid var(--ring);box-shadow:0 10px 30px rgba(0,0,0,.18);transform:translateX(-102%);transition:transform .25s ease;z-index:1000;display:flex;flex-direction:column}
  .mobile-drawer header{padding:14px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--ring)}
  .mobile-drawer nav{display:flex;flex-direction:column;gap:4px;padding:12px 12px 18px}
  .mobile-drawer nav a{padding:10px 12px;border-radius:10px;text-decoration:none;color:var(--fg)}
  .mobile-drawer nav a:hover{background:var(--card)}
  .mobile-drawer .mobile-sub{padding:0 12px 12px}
  .mobile-drawer .mobile-sub a{display:block;padding:8px 12px;margin-left:12px;border-radius:8px}
  .mobile-drawer .lang-grid{padding:12px;border-top:1px solid var(--ring);display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:8px}
  .mobile-drawer .lang-btn{padding:10px;border:1px solid var(--ring);border-radius:10px;background:var(--card);text-align:center;cursor:pointer}
  .mobile-drawer .lang-btn:active{transform:scale(.98)}

  .mobile-open .mobile-backdrop{opacity:1;pointer-events:auto}
  .mobile-open .mobile-drawer{transform:translateX(0)}

  /* Réorganisation du header en mobile : [hamburger] [logo centré] [theme à droite] */
  @media (max-width:640px){
    .hamburger-btn{display:flex}
    /* on cache les nav visibles et la languette langues en mobile */
    .top-band nav{display:none !important}
    .lang-menu{display:none !important}

    /* grille à 3 colonnes pour centrer la signature et garder Night à droite */
    .top-band header{
      display:grid;
      grid-template-columns:40px 1fr auto;
      align-items:center;
      gap:8px;
    }
    .top-band header > a[href="#home"]{justify-self:center}
    #themeToggle{justify-self:end}
  }

  /* Accessibilité focus */
  .hamburger-btn:focus-visible,.mobile-drawer a:focus-visible,.lang-btn:focus-visible{outline:2px solid var(--brand);outline-offset:3px}
  @media (prefers-reduced-motion:reduce){
    .mobile-backdrop,.mobile-drawer{transition:none}
  }

  /* ===== Amélioration tiroir mobile : sections & sous-sections ===== */
  .mobile-heading{
    margin:14px 12px 6px;
    font-size:13px;
    font-weight:700;
    letter-spacing:.08em;
    text-transform:uppercase;
    color: var(--muted);
    border-top:1px solid var(--ring);
    padding-top:10px;
  }
  .mobile-group{ padding:2px 0 8px; }
  .mobile-group > a{ display:block; padding:10px 12px; border-radius:10px; }
  .mobile-sub{
    padding:0 12px 10px;
    margin:2px 0 6px;
    border-left:2px solid var(--ring);
  }
  .mobile-sub a{
    display:block;
    padding:8px 12px 8px 10px;
    border-radius:8px;
  }
  .mobile-sep{ height:8px; }
</style>

<script>
/* ===== Helpers i18n pour le bouton thème ===== */
function i18nGet(key, fallback){
  try{
    let v = window.__i18nDict;
    for (const part of key.split('.')) v = v && v[part];
    return v || fallback;
  }catch(e){ return fallback; }
}
function updateThemeLabel(){
  const btn = document.getElementById('themeToggle');
  if (!btn) return;
  const isDark = (document.documentElement.dataset.theme === 'dark');
  const day  = i18nGet('ui.theme_day','☀︎ Day');
  const night= i18nGet('ui.theme_night','☾ Night');
  btn.textContent = isDark ? day : night;
}

/* ===== Thème ===== */
function toggleTheme(){
  const html=document.documentElement;
  const next=html.dataset.theme==='dark'?'light':'dark';
  html.dataset.theme=next;
  try{localStorage.setItem('theme',next);}catch(e){}
  document.documentElement.style.colorScheme=next;
  if (document.getElementById('themeToggle')) updateThemeLabel();
}

/* ===== Menus ===== */
function toggleMenu(e,id){
  e.preventDefault();
  const m=document.getElementById(id);
  if(!m) return;
  const isOpen=m.classList.contains('show');
  document.querySelectorAll('.submenu').forEach(sm=>{sm.classList.remove('show');sm.style.display='none';});
  if(!isOpen){m.style.display='block';requestAnimationFrame(()=>m.classList.add('show'));}
}
function closeMenusOnInteraction(ev){
  const inside=ev.target&&ev.target.closest&&ev.target.closest('.menu');
  if(!inside){document.querySelectorAll('.submenu').forEach(m=>{m.classList.remove('show');setTimeout(()=>m.style.display='none',250);});}
}
document.addEventListener('click',closeMenusOnInteraction);
document.addEventListener('scroll',()=>closeMenusOnInteraction({target:null}),{passive:true});
document.addEventListener('keydown',(e)=>{if(e.key==='Escape')closeMenusOnInteraction({target:null});});

/* ===== Divers ===== */
function goHome(){window.scrollTo({top:0,behavior:'smooth'});}
function clamp(v,min,max){return Math.max(min,Math.min(max,v));}
function animatePlane(){
  const landing=document.querySelector('.landing');
  const plane=document.querySelector('.plane');
  if(!landing||!plane) return;
  const h=window.innerHeight;
  const y=window.scrollY;
  const p=clamp(y/h,0,1);
  const xMax=Math.min(0.65*window.innerWidth,900);
  const x=p*xMax;
  let climb=0;const startClimb=0.35;
  if(p>startClimb){
    const pp=(p-startClimb)/(1-startClimb);
    const k=3.2;
    climb=-(Math.expm1(k*pp)/Math.expm1(k))*(0.55*window.innerHeight);
  }
  const base=-12;
  plane.style.transform=`translate(${x}px,${base+climb}px)rotate(${Math.max(-25,-5-p*35)}deg)`;
  plane.style.opacity=(p<1?0.95:0);
}
window.addEventListener('scroll',animatePlane,{passive:true});
window.addEventListener('resize',animatePlane);
document.addEventListener('DOMContentLoaded',animatePlane);

/* ===== Init thème + languette ===== */
document.addEventListener('DOMContentLoaded',function(){
  // thème initial
  let initial='light';
  try{
    const stored=localStorage.getItem('theme');
    if(stored){initial=stored;}
    else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){initial='dark';}
  }catch(e){}
  document.documentElement.dataset.theme=initial;
  document.documentElement.style.colorScheme=initial;
  if (document.getElementById('themeToggle')) updateThemeLabel();

  // languette à droite du bouton thème
  const themeBtn=document.getElementById('themeToggle');
  if(!themeBtn||!themeBtn.parentNode) return;

  const wrap=document.createElement('div');
  wrap.className='menu lang-menu';

  const btn=document.createElement('button');
  btn.id='langToggle';btn.className='toggle';btn.type='button';btn.setAttribute('aria-haspopup','true');btn.textContent='EN ▾';

  const menu=document.createElement('div');
  menu.id='lang-menu';menu.className='submenu';
  menu.innerHTML = `
    <a href="#" data-lang="en">English</a>
    <a href="#" data-lang="de">Deutsch</a>
    <a href="#" data-lang="ar">العربية</a>
    <a href="#" data-lang="fr">Français</a>
  `;

  wrap.appendChild(btn);wrap.appendChild(menu);
  themeBtn.parentNode.insertBefore(wrap,themeBtn);
  btn.addEventListener('click',function(e){toggleMenu(e,'lang-menu');});

  // clic sur une langue
  menu.addEventListener('click', function(e){
    const a = e.target.closest('a[data-lang]');
    if (!a) return;
    e.preventDefault();
    if (window.setLangFromMenu) window.setLangFromMenu(a.dataset.lang);
    closeMenusOnInteraction({target:null});
    try{
      const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
      btn.textContent = (map[a.dataset.lang] || 'EN') + ' ▾';
    }catch(_e){}
  });

  // label au chargement selon ?lang=
  try{
    const params=new URLSearchParams(location.search);
    const lang = params.has('lang') ? (params.get('lang')||'en').toLowerCase() : 'en';
    const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
    btn.textContent = (map[lang] || 'EN') + ' ▾';
  }catch(_e){}
});
</script>
</head>
<body data-theme="light">
  <div class="top-band">
    <div class="container">
      <header>
        <!-- AJOUT : bouton hamburger (mobile uniquement) -->
        <button class="hamburger-btn" id="hamburgerBtn" aria-label="Open menu" aria-controls="mobile-drawer" aria-expanded="false">
          <span aria-hidden="true"></span>
        </button>

        <a href="#home" onclick="goHome()" style="display:inline-block">
          <img src="signature.png" alt="Signature" class="signature" />
        </a>

        <nav>
          <!-- About : page + sous-menu (Profile en premier) -->
          <div class="menu">
            <a href="about.html" data-i18n="nav.about">About</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'about-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="about-menu" class="submenu">
              <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
              <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
              <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
              <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
            </div>
          </div>

          <!-- Skills -->
          <a href="skills.html" data-i18n="nav.skills">Skills</a>

          <!-- Projects -->
          <div class="menu">
            <a href="projects.html" data-i18n="nav.projects">Projects</a>
            <button class="toggle" type="button" aria-haspopup="true" onclick="toggleMenu(event,'projects-menu')" style="padding:2px 6px;margin-left:4px">▾</button>
            <div id="projects-menu" class="submenu">
              <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
              <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
            </div>
          </div>

          <!-- Contact -->
          <a href="contact.html" data-i18n="nav.contact">Contact</a>
        </nav>

        <button id="themeToggle" class="toggle" onclick="toggleTheme()">☾ Night</button>
      </header>
    </div>
  </div>

  <!-- AJOUT : Backdrop + Drawer mobile -->
  <div class="mobile-backdrop" id="mobileBackdrop" hidden></div>
  <aside class="mobile-drawer" id="mobile-drawer" aria-hidden="true">
    <header>
      <strong data-i18n="nav.projects">Menu</strong>
      <button class="toggle" type="button" id="mobileCloseBtn" aria-label="Close menu">✕</button>
    </header>

    <nav aria-label="Mobile navigation">
      <!-- About -->
      <div class="mobile-heading" data-i18n="nav.about">About</div>
      <div class="mobile-group">
        <a href="about.html" data-i18n="nav.about">About</a>
        <div class="mobile-sub">
          <a href="about.html#profile" data-i18n="nav.about_menu.who">Profile</a>
          <a href="about.html#background" data-i18n="nav.about_menu.background">Background</a>
          <a href="about.html#cv" data-i18n="nav.about_menu.cv">Curriculum Vitae</a>
          <a href="about.html#certs" data-i18n="nav.about_menu.certs">Certifications</a>
        </div>
      </div>

      <!-- Skills -->
      <div class="mobile-heading" data-i18n="nav.skills">Skills</div>
      <div class="mobile-group">
        <a href="skills.html" data-i18n="nav.skills">Skills</a>
      </div>

      <!-- Projects -->
      <div class="mobile-heading" data-i18n="nav.projects">Projects</div>
      <div class="mobile-group">
        <a href="projects.html" data-i18n="nav.projects">Projects</a>
        <div class="mobile-sub">
          <a href="projects.html#realized" data-i18n="nav.projects_menu.realized">Projects realized</a>
          <a href="projects.html#future" data-i18n="nav.projects_menu.future">Future projects</a>
        </div>
      </div>

      <!-- Contact -->
      <div class="mobile-heading" data-i18n="nav.contact">Contact</div>
      <div class="mobile-group">
        <a href="contact.html" data-i18n="nav.contact">Contact</a>
      </div>
    </nav>

    <!-- langues en grille -->
    <div class="lang-grid" aria-label="Language">
      <button class="lang-btn" data-lang="en">EN</button>
      <button class="lang-btn" data-lang="fr">FR</button>
      <button class="lang-btn" data-lang="de">DE</button>
      <button class="lang-btn" data-lang="ar">AR</button>
    </div>
  </aside>

  <!-- CONTENU ACCUEIL (inchangé) -->
  <main class="page" id="main">
    <div class="sections">
      <section class="alt-section reveal">
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.perspective.eyebrow">Perspective</p>
          <h3 class="alt-title" data-i18n="sections.perspective.title">Shaping the future of aerospace with bold ideas</h3>
          <p class="alt-text" data-i18n="sections.perspective.text">Exploring horizons where engineering meets imagination. Ambitious goals, measured execution.</p>
        </div>
        <figure class="alt-media"><img src="hero-aerial.jpg" alt="Aerial sky with contrails"></figure>
      </section>

      <section class="alt-section reverse reveal">
        <figure class="alt-media"><img src="ChatGPT Image 8 oct. 2025, 15_47_39.jpg" alt="Wing geometry"></figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.learning.eyebrow">Lifelong learning</p>
          <h3 class="alt-title" data-i18n="sections.learning.title">Where curiosity fuels growth</h3>
          <p class="alt-text" data-i18n="sections.learning.text">Endless discovery, purposeful practice, and a constant pursuit of knowledge and mastery.</p>
        </div>
      </section>

      <section class="alt-section reveal">
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.principles.eyebrow">Principles</p>
          <h3 class="alt-title" data-i18n="sections.principles.title">Creativity · Growth · Precision</h3>
          <p class="alt-text" data-i18n="sections.principles.text">Learning is meaningful when it expands horizons, sharpens skills, and connects theory with real-world challenges.</p>
        </div>
        <figure class="alt-media"><img src="ChatGPT Image 8 oct. 2025, 15_56_28.jpg" alt="Cloud layers"></figure>
      </section>

      <section class="alt-section reverse reveal">
        <figure class="alt-media"><img src="ChatGPT Image 8 oct. 2025, 16_18_09.jpg" alt="Metal texture and rivets"></figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.design.eyebrow">Designing with Purpose</p>
          <h3 class="alt-title" data-i18n="sections.design.title">Precision in every detail</h3>
          <p class="alt-text" data-i18n="sections.design.text">From sketches to prototypes, every decision carries weight. Robust design, quiet confidence.</p>
        </div>
      </section>

      <section class="alt-section reveal">
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.teamwork.eyebrow">Teamwork</p>
          <h3 class="alt-title" data-i18n="sections.teamwork.title">Collaboration is the strongest engine</h3>
          <p class="alt-text" data-i18n="sections.teamwork.text">We move faster together, bridging disciplines, tools, and perspectives.</p>
        </div>
        <figure class="alt-media"><img src="ChatGPT Image 8 oct. 2025, 16_36_28.jpg" alt="Team silhouettes"></figure>
      </section>

      <section class="alt-section reverse reveal">
        <figure class="alt-media"><img src="ChatGPT Image 8 oct. 2025, 16_45_18.jpg" alt="Night sky"></figure>
        <div class="alt-card">
          <p class="alt-eyebrow" data-i18n="sections.worldview.eyebrow">Worldview</p>
          <h3 class="alt-title" data-i18n="sections.worldview.title">Engineering beyond borders</h3>
          <p class="alt-text" data-i18n="sections.worldview.text">Innovation thrives when knowledge adapts across countries, cultures, and perspectives, proving that ideas have no frontiers.</p>
        </div>
      </section>
    </div>
  </main>

  <div class="footer-band">© 2025 Youssef Chabbou
    <span data-i18n="footer.created_by" style="font-size:12px; color:rgba(255,255,255,0.75); float:right; text-align:right; line-height:1.4;">
      This website was entirely created by its owner,<br>
      Youssef Chabbou, using AI-Augmented Development.
    </span>
  </div>

  <script>
    (function(){
      const prefersReduced=window.matchMedia&&window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefersReduced){
        document.querySelectorAll('.reveal').forEach(el=>el.classList.add('in'));
        return;
      }
      const io=new IntersectionObserver((entries)=>{
        entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');io.unobserve(e.target);}});
      },{threshold:0.15});
      document.querySelectorAll('.reveal').forEach(el=>io.observe(el));
    })();
  </script>

  <!-- Loader i18n (EN par défaut, restore propre) -->
  <script>
(() => {
  const SUPPORTED = ["fr","de","ar"]; // langues avec JSON
  const DEFAULT = "en"; // anglais natif

  // Cache des textes originaux pour revenir à EN
  function snapshotOriginals(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if(!el.dataset.i18nOriginal){
        el.dataset.i18nOriginal = el.textContent;
      }
    });
  }
  snapshotOriginals();

  const get = (o, path) => path.split('.').reduce((a,k)=> (a && a[k]!=null) ? a[k] : undefined, o);

  function currentLang() {
    const params = new URLSearchParams(location.search);
    const hasParam = params.has("lang");
    const urlLang  = params.get("lang");
    if (!hasParam) return DEFAULT; // pas de ?lang= -> EN
    if (urlLang === 'en' || SUPPORTED.includes(urlLang)) return urlLang;
    return DEFAULT;
  }

  async function loadDict(lang) {
    const res = await fetch(`lang/${lang}.json`, { cache: "no-cache" });
    if (!res.ok) throw new Error("Missing lang file: "+lang);
    return res.json();
  }

  function applyDict(dict) {
    // remplace tout ce qui a data-i18n
    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.getAttribute("data-i18n");
      const val = get(dict, key);
      if (val != null) el.textContent = val;
    });

    // titre de page
    const metaTitle = get(dict, "meta.title");
    if (metaTitle) document.title = metaTitle;

    // exposer le dict pour d'autres labels (Night/Day)
    window.__i18nDict = dict;
    document.documentElement.setAttribute("lang", current);
    if (window.updateThemeLabel) updateThemeLabel();
  }

  function restoreEnglish(){
    document.querySelectorAll("[data-i18n]").forEach(el=>{
      if (el.dataset.i18nOriginal != null) el.textContent = el.dataset.i18nOriginal;
    });
    window.__i18nDict = {};
    document.documentElement.setAttribute("lang", "en");
    if (window.updateThemeLabel) updateThemeLabel();
  }

  let current = currentLang();

  async function setLang(lang) {
    // normaliser
    if (lang !== 'en' && !SUPPORTED.includes(lang)) lang = 'en';
    current = lang;

    // mettre ?lang= dans l'URL (sans recharger la page)
    const u = new URL(location.href);
    u.searchParams.set("lang", lang);
    history.replaceState({}, "", u.pathname + u.search + location.hash);

    if (lang === 'en') { restoreEnglish(); return; }

    // charger et appliquer
    try{
      const dict = await loadDict(lang);
      applyDict(dict);
    }catch(err){
      console.error("[i18n] failed to load", lang, err);
      restoreEnglish();
    }
  }

  // exposer pour le menu
  window.setLangFromMenu = setLang;

  // init label languette
  (function initLangToggleLabel(){
    const btn = document.getElementById('langToggle');
    if (!btn) return;
    const map = {en:'EN', fr:'FR', de:'DE', ar:'AR'};
    const lang = current;
    btn.textContent = (map[lang] || 'EN') + ' ▾';
  })();

  // appliquer la langue courante
  setLang(current);

  // sécurité : clics sur [data-lang]
  document.addEventListener("click", (e) => {
    const b = e.target.closest("[data-lang]");
    if (!b) return;
    e.preventDefault();
    setLang(b.getAttribute("data-lang"));
  });
})();
  </script>

  <!-- AJOUT : script contrôle hamburger -->
  <script>
    (function(){
      const html = document.documentElement;
      const btn = document.getElementById('hamburgerBtn');
      const drawer = document.getElementById('mobile-drawer');
      const backdrop = document.getElementById('mobileBackdrop');
      const closeBtn = document.getElementById('mobileCloseBtn');

      function openDrawer(){
        html.classList.add('mobile-open');
        drawer.setAttribute('aria-hidden','false');
        btn.setAttribute('aria-expanded','true');
        backdrop.hidden = false;
      }
      function closeDrawer(){
        html.classList.remove('mobile-open');
        drawer.setAttribute('aria-hidden','true');
        btn.setAttribute('aria-expanded','false');
        setTimeout(()=>{backdrop.hidden = true;}, 200);
      }

      if (btn){
        btn.addEventListener('click', ()=>{
          const isOpen = html.classList.contains('mobile-open');
          if (isOpen) closeDrawer(); else openDrawer();
        });
      }
      if (closeBtn) closeBtn.addEventListener('click', closeDrawer);
      if (backdrop) backdrop.addEventListener('click', closeDrawer);
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });

      // liens du drawer : fermer après navigation
      drawer.addEventListener('click', (e)=>{
        const a = e.target.closest('a');
        if (a) closeDrawer();
      });

      // boutons de langue du drawer : utiliser setLangFromMenu + fermer
      drawer.addEventListener('click', (e)=>{
        const b = e.target.closest('.lang-btn[data-lang]');
        if (!b) return;
        e.preventDefault();
        if (window.setLangFromMenu) window.setLangFromMenu(b.dataset.lang);
        closeDrawer();
      });
    })();
  </script>
</body>
</html>
